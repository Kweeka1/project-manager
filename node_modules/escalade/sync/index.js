const ***REMOVED*** dirname, resolve ***REMOVED*** = require('path');
const ***REMOVED*** readdirSync, statSync ***REMOVED*** = require('fs');

module.exports = function (start, callback) ***REMOVED***
	let dir = resolve('.', start);
	let tmp, stats = statSync(dir);

	if (!stats.isDirectory()) ***REMOVED***
		dir = dirname(dir);
	***REMOVED***

	while (true) ***REMOVED***
		tmp = callback(dir, readdirSync(dir));
		if (tmp) return resolve(dir, tmp);
		dir = dirname(tmp = dir);
		if (tmp === dir) break;
	***REMOVED***
***REMOVED***
