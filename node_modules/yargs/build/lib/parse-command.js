export function parseCommand(cmd) ***REMOVED***
    const extraSpacesStrippedCommand = cmd.replace(/\s***REMOVED***2,***REMOVED***/g, ' ');
    const splitCommand = extraSpacesStrippedCommand.split(/\s+(?![^[]*]|[^<]*>)/);
    const bregex = /\.*[\][<>]/g;
    const firstCommand = splitCommand.shift();
    if (!firstCommand)
        throw new Error(`No command found in: $***REMOVED***cmd***REMOVED***`);
    const parsedCommand = ***REMOVED***
        cmd: firstCommand.replace(bregex, ''),
        demanded: [],
        optional: [],
***REMOVED***;
    splitCommand.forEach((cmd, i) => ***REMOVED***
        let variadic = false;
        cmd = cmd.replace(/\s/g, '');
        if (/\.+[\]>]/.test(cmd) && i === splitCommand.length - 1)
            variadic = true;
        if (/^\[/.test(cmd)) ***REMOVED***
            parsedCommand.optional.push(***REMOVED***
                cmd: cmd.replace(bregex, '').split('|'),
                variadic,
        ***REMOVED***);
    ***REMOVED***
        else ***REMOVED***
            parsedCommand.demanded.push(***REMOVED***
                cmd: cmd.replace(bregex, '').split('|'),
                variadic,
        ***REMOVED***);
    ***REMOVED***
***REMOVED***);
    return parsedCommand;
***REMOVED***
