'use strict'

let Warning = require('./warning')

class Result ***REMOVED***
  constructor(processor, root, opts) ***REMOVED***
    this.processor = processor
    this.messages = []
    this.root = root
    this.opts = opts
    this.css = undefined
    this.map = undefined
***REMOVED***

  toString() ***REMOVED***
    return this.css
***REMOVED***

  warn(text, opts = ***REMOVED******REMOVED***) ***REMOVED***
    if (!opts.plugin) ***REMOVED***
      if (this.lastPlugin && this.lastPlugin.postcssPlugin) ***REMOVED***
        opts.plugin = this.lastPlugin.postcssPlugin
  ***REMOVED***
***REMOVED***

    let warning = new Warning(text, opts)
    this.messages.push(warning)

    return warning
***REMOVED***

  warnings() ***REMOVED***
    return this.messages.filter(i => i.type === 'warning')
***REMOVED***

  get content() ***REMOVED***
    return this.css
***REMOVED***
***REMOVED***

module.exports = Result
Result.default = Result
