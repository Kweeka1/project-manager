'use strict'

let Container = require('./container')
let Parser = require('./parser')
let Input = require('./input')

function parse(css, opts) ***REMOVED***
  let input = new Input(css, opts)
  let parser = new Parser(input)
  try ***REMOVED***
    parser.parse()
***REMOVED*** catch (e) ***REMOVED***
    if (process.env.NODE_ENV !== 'production') ***REMOVED***
      if (e.name === 'CssSyntaxError' && opts && opts.from) ***REMOVED***
        if (/\.scss$/i.test(opts.from)) ***REMOVED***
          e.message +=
            '\nYou tried to parse SCSS with ' +
            'the standard CSS parser; ' +
            'try again with the postcss-scss parser'
    ***REMOVED*** else if (/\.sass/i.test(opts.from)) ***REMOVED***
          e.message +=
            '\nYou tried to parse Sass with ' +
            'the standard CSS parser; ' +
            'try again with the postcss-sass parser'
    ***REMOVED*** else if (/\.less$/i.test(opts.from)) ***REMOVED***
          e.message +=
            '\nYou tried to parse Less with ' +
            'the standard CSS parser; ' +
            'try again with the postcss-less parser'
    ***REMOVED***
  ***REMOVED***
***REMOVED***
    throw e
***REMOVED***

  return parser.root
***REMOVED***

module.exports = parse
parse.default = parse

Container.registerParse(parse)
