'use strict';
const ***REMOVED***promisify***REMOVED*** = require('util');
const fs = require('fs');

async function isType(fsStatType, statsMethodName, filePath) ***REMOVED***
	if (typeof filePath !== 'string') ***REMOVED***
		throw new TypeError(`Expected a string, got $***REMOVED***typeof filePath***REMOVED***`);
	***REMOVED***

	try ***REMOVED***
		const stats = await promisify(fs[fsStatType])(filePath);
		return stats[statsMethodName]();
	***REMOVED*** catch (error) ***REMOVED***
		if (error.code === 'ENOENT') ***REMOVED***
			return false;
		***REMOVED***

		throw error;
	***REMOVED***
***REMOVED***

function isTypeSync(fsStatType, statsMethodName, filePath) ***REMOVED***
	if (typeof filePath !== 'string') ***REMOVED***
		throw new TypeError(`Expected a string, got $***REMOVED***typeof filePath***REMOVED***`);
	***REMOVED***

	try ***REMOVED***
		return fs[fsStatType](filePath)[statsMethodName]();
	***REMOVED*** catch (error) ***REMOVED***
		if (error.code === 'ENOENT') ***REMOVED***
			return false;
		***REMOVED***

		throw error;
	***REMOVED***
***REMOVED***

exports.isFile = isType.bind(null, 'stat', 'isFile');
exports.isDirectory = isType.bind(null, 'stat', 'isDirectory');
exports.isSymlink = isType.bind(null, 'lstat', 'isSymbolicLink');
exports.isFileSync = isTypeSync.bind(null, 'statSync', 'isFile');
exports.isDirectorySync = isTypeSync.bind(null, 'statSync', 'isDirectory');
exports.isSymlinkSync = isTypeSync.bind(null, 'lstatSync', 'isSymbolicLink');
