'use strict'

exports.fromCallback = function (fn) ***REMOVED***
  return Object.defineProperty(function (...args) ***REMOVED***
    if (typeof args[args.length - 1] === 'function') fn.apply(this, args)
    else ***REMOVED***
      return new Promise((resolve, reject) => ***REMOVED***
        fn.call(
          this,
          ...args,
          (err, res) => (err != null) ? reject(err) : resolve(res)
        )
  ***REMOVED***)
***REMOVED***
***REMOVED*** 'name', ***REMOVED*** value: fn.name ***REMOVED***)
***REMOVED***

exports.fromPromise = function (fn) ***REMOVED***
  return Object.defineProperty(function (...args) ***REMOVED***
    const cb = args[args.length - 1]
    if (typeof cb !== 'function') return fn.apply(this, args)
    else fn.apply(this, args.slice(0, -1)).then(r => cb(null, r), cb)
***REMOVED*** 'name', ***REMOVED*** value: fn.name ***REMOVED***)
***REMOVED***
