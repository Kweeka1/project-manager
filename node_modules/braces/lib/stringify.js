'use strict';

const utils = require('./utils');

module.exports = (ast, options = ***REMOVED******REMOVED***) => ***REMOVED***
  let stringify = (node, parent = ***REMOVED******REMOVED***) => ***REMOVED***
    let invalidBlock = options.escapeInvalid && utils.isInvalidBrace(parent);
    let invalidNode = node.invalid === true && options.escapeInvalid === true;
    let output = '';

    if (node.value) ***REMOVED***
      if ((invalidBlock || invalidNode) && utils.isOpenOrClose(node)) ***REMOVED***
        return '\\' + node.value;
  ***REMOVED***
      return node.value;
***REMOVED***

    if (node.value) ***REMOVED***
      return node.value;
***REMOVED***

    if (node.nodes) ***REMOVED***
      for (let child of node.nodes) ***REMOVED***
        output += stringify(child);
  ***REMOVED***
***REMOVED***
    return output;
***REMOVED***;

  return stringify(ast);
***REMOVED***;

