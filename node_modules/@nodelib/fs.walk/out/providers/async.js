"use strict";
Object.defineProperty(exports, "__esModule", ***REMOVED*** value: true ***REMOVED***);
const async_1 = require("../readers/async");
class AsyncProvider ***REMOVED***
    constructor(_root, _settings) ***REMOVED***
        this._root = _root;
        this._settings = _settings;
        this._reader = new async_1.default(this._root, this._settings);
        this._storage = [];
***REMOVED***
    read(callback) ***REMOVED***
        this._reader.onError((error) => ***REMOVED***
            callFailureCallback(callback, error);
    ***REMOVED***);
        this._reader.onEntry((entry) => ***REMOVED***
            this._storage.push(entry);
    ***REMOVED***);
        this._reader.onEnd(() => ***REMOVED***
            callSuccessCallback(callback, this._storage);
    ***REMOVED***);
        this._reader.read();
***REMOVED***
***REMOVED***
exports.default = AsyncProvider;
function callFailureCallback(callback, error) ***REMOVED***
    callback(error);
***REMOVED***
function callSuccessCallback(callback, entries) ***REMOVED***
    callback(null, entries);
***REMOVED***
