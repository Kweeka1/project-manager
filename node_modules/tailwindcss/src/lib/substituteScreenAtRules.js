import ***REMOVED*** normalizeScreens ***REMOVED*** from '../util/normalizeScreens'
import buildMediaQuery from '../util/buildMediaQuery'

export default function (***REMOVED*** tailwindConfig: ***REMOVED*** theme ***REMOVED*** ***REMOVED***) ***REMOVED***
  return function (css) ***REMOVED***
    css.walkAtRules('screen', (atRule) => ***REMOVED***
      let screen = atRule.params
      let screens = normalizeScreens(theme.screens)
      let screenDefinition = screens.find((***REMOVED*** name ***REMOVED***) => name === screen)

      if (!screenDefinition) ***REMOVED***
        throw atRule.error(`No \`$***REMOVED***screen***REMOVED***\` screen found.`)
  ***REMOVED***

      atRule.name = 'media'
      atRule.params = buildMediaQuery(screenDefinition)
***REMOVED***)
***REMOVED***
***REMOVED***
