let Declaration = require('../declaration')

class BreakProps extends Declaration ***REMOVED***
  /**
   * Change name for -webkit- and -moz- prefix
   */
  prefixed(prop, prefix) ***REMOVED***
    return `$***REMOVED***prefix***REMOVED***column-$***REMOVED***prop***REMOVED***`
***REMOVED***

  /**
   * Return property name by final spec
   */
  normalize(prop) ***REMOVED***
    if (prop.includes('inside')) ***REMOVED***
      return 'break-inside'
***REMOVED***
    if (prop.includes('before')) ***REMOVED***
      return 'break-before'
***REMOVED***
    return 'break-after'
***REMOVED***

  /**
   * Change prefixed value for avoid-column and avoid-page
   */
  set(decl, prefix) ***REMOVED***
    if (
      (decl.prop === 'break-inside' && decl.value === 'avoid-column') ||
      decl.value === 'avoid-page'
    ) ***REMOVED***
      decl.value = 'avoid'
***REMOVED***
    return super.set(decl, prefix)
***REMOVED***

  /**
   * Donâ€™t prefix some values
   */
  insert(decl, prefix, prefixes) ***REMOVED***
    if (decl.prop !== 'break-inside') ***REMOVED***
      return super.insert(decl, prefix, prefixes)
***REMOVED***
    if (/region/i.test(decl.value) || /page/i.test(decl.value)) ***REMOVED***
      return undefined
***REMOVED***
    return super.insert(decl, prefix, prefixes)
***REMOVED***
***REMOVED***

BreakProps.names = [
  'break-inside',
  'page-break-inside',
  'column-break-inside',
  'break-before',
  'page-break-before',
  'column-break-before',
  'break-after',
  'page-break-after',
  'column-break-after'
]

module.exports = BreakProps
