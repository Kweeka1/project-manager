let flexSpec = require('./flex-spec')
let Declaration = require('../declaration')

class Order extends Declaration ***REMOVED***
  /**
   * Change property name for 2009 and 2012 specs
   */
  prefixed(prop, prefix) ***REMOVED***
    let spec
    ;[spec, prefix] = flexSpec(prefix)
    if (spec === 2009) ***REMOVED***
      return prefix + 'box-ordinal-group'
***REMOVED***
    if (spec === 2012) ***REMOVED***
      return prefix + 'flex-order'
***REMOVED***
    return super.prefixed(prop, prefix)
***REMOVED***

  /**
   * Return property name by final spec
   */
  normalize() ***REMOVED***
    return 'order'
***REMOVED***

  /**
   * Fix value for 2009 spec
   */
  set(decl, prefix) ***REMOVED***
    let spec = flexSpec(prefix)[0]
    if (spec === 2009 && /\d/.test(decl.value)) ***REMOVED***
      decl.value = (parseInt(decl.value) + 1).toString()
      return super.set(decl, prefix)
***REMOVED***
    return super.set(decl, prefix)
***REMOVED***
***REMOVED***

Order.names = ['order', 'flex-order', 'box-ordinal-group']

module.exports = Order
