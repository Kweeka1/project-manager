"use strict";
Object.defineProperty(exports, "__esModule", ***REMOVED*** value: true ***REMOVED***);
const matcher_1 = require("./matcher");
class PartialMatcher extends matcher_1.default ***REMOVED***
    match(filepath) ***REMOVED***
        const parts = filepath.split('/');
        const levels = parts.length;
        const patterns = this._storage.filter((info) => !info.complete || info.segments.length > levels);
        for (const pattern of patterns) ***REMOVED***
            const section = pattern.sections[0];
            /**
             * In this case, the pattern has a globstar and we must read all directories unconditionally,
             * but only if the level has reached the end of the first group.
             *
             * fixtures/***REMOVED***a,b***REMOVED***/**
             *  ^ true/false  ^ always true
            */
            if (!pattern.complete && levels > section.length) ***REMOVED***
                return true;
        ***REMOVED***
            const match = parts.every((part, index) => ***REMOVED***
                const segment = pattern.segments[index];
                if (segment.dynamic && segment.patternRe.test(part)) ***REMOVED***
                    return true;
            ***REMOVED***
                if (!segment.dynamic && segment.pattern === part) ***REMOVED***
                    return true;
            ***REMOVED***
                return false;
        ***REMOVED***);
            if (match) ***REMOVED***
                return true;
        ***REMOVED***
    ***REMOVED***
        return false;
***REMOVED***
***REMOVED***
exports.default = PartialMatcher;
